<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Define or edit an element of population parameters. Population parameter elements are defined and used for simulation as in Simulx GUI. As for other elements, the population parameters elements can be defined or imported, and they are saved with the Simulx project if calling saveProject. Once a population parameters element is defined, it needs to be added to a simulation group with setGroupElement to be used in simulation."><title>[Simulx] Define population element — definePopulationElement • lixoftConnectors</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="[Simulx] Define population element — definePopulationElement"><meta property="og:description" content="Define or edit an element of population parameters. Population parameter elements are defined and used for simulation as in Simulx GUI. As for other elements, the population parameters elements can be defined or imported, and they are saved with the Simulx project if calling saveProject. Once a population parameters element is defined, it needs to be added to a simulation group with setGroupElement to be used in simulation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">lixoftConnectors</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2023.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>[Simulx] Define population element</h1>
      
      <div class="d-none name"><code>definePopulationElement.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Define or edit an element of population parameters. Population parameter elements are defined and used for simulation <a href="https://simulx.lixoft.com/definition/population-parameters/" class="external-link">as in Simulx GUI</a>. As for other elements, the population parameters elements can be defined or imported, and they are saved with the Simulx project if calling <a href="saveProject.html">saveProject</a>. Once a population parameters element is defined, it needs to be added to a simulation group with <a href="setGroupElement.html">setGroupElement</a> to be used in simulation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">definePopulationElement</span><span class="op">(</span><span class="va">name</span>, <span class="va">element</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>name</dt>
<dd><p>(<em>string</em>) Element name.</p></dd>


<dt>element</dt>
<dd><p>(<em>string</em> or <em>dataFrame</em>) Element definition from external file path or data frame with population parameters as columns.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Definition of population parameters as simulation elements allows to simulate individual parameters from probability distributions. It is possible only if the model includes <a href="https://simulx.lixoft.com/definition/model/" class="external-link">a block [INDIVIDUAL]</a> to consider the inter-individual variability.</p>
<p>A population parameters element can be defined as an external file (csv or txt) or as a data frame. In any case, it should contain one column per population parameter (mandatory).</p>
<p>To check exactly which column names to use, you can use <a href="getPopulationElements.html">getPopulationElements</a> and view the population parameters element that was automatically created after defining the model (if the model has an [INDIVIDUAL] block).</p>
<p>To define a population parameters element with several lines, with several sets to be used in different replicate simulations, an external file is required. In this case, you should also set the number of replicates for your simulation with <a href="setNbReplicates.html">setNbReplicates</a>, otherwise only the first set of population parameters will be taken into account. Each replicate uses one set of population parameters with the order of the appearance in the table.</p>
<p>Note: It is not possible to define population elements with distributions with the connectors as in the GUI. To do this, please sample values from distributions in R and create the element with different rows as in the last example below.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="getPopulationElements.html">getPopulationElements</a>, <a href="setNbReplicates.html">setNbReplicates</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">definePopulationElement</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"name"</span>, element <span class="op">=</span> <span class="st">"file/path"</span><span class="op">)</span></span>
<span>  <span class="fu">definePopulationElement</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"name"</span>, element <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Cl_pop <span class="op">=</span> <span class="fl">1</span>, V_pop <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="co"># Define a pop param element with a data frame </span></span>
<span></span>
<span>  <span class="fu"><a href="loadProject.html">loadProject</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="getDemoPath.html">getDemoPath</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"3.definition"</span>,<span class="st">"3.3.population_parameters"</span>,<span class="st">"pop_parameters_manual.smlx"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="co"># get the existing pop param element as an example</span></span>
<span>  <span class="va">ExamplePopParamData</span> <span class="op">=</span> <span class="fu"><a href="getPopulationElements.html">getPopulationElements</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">manual_parameters</span><span class="op">$</span><span class="va">data</span></span>
<span>  <span class="va">ExamplePopParamData</span><span class="op">[</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">11</span><span class="op">)</span> <span class="co">#set the desired values, for simplicity we use all param =1</span></span>
<span>  <span class="fu">definePopulationElement</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"PopParam"</span>, element <span class="op">=</span> <span class="va">ExamplePopParamData</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check impact of varying ka with replicates (external file required)</span></span>
<span></span>
<span>  <span class="fu"><a href="loadProject.html">loadProject</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="getDemoPath.html">getDemoPath</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"3.definition"</span>,<span class="st">"3.3.population_parameters"</span>,<span class="st">"pop_parameters_manual.smlx"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="co"># get the existing pop param element as an example:</span></span>
<span>  <span class="va">ExamplePopParamData</span> <span class="op">=</span> <span class="fu"><a href="getPopulationElements.html">getPopulationElements</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">manual_parameters</span><span class="op">$</span><span class="va">data</span></span>
<span>  <span class="co"># add lines to the data frame to have different values for ka:</span></span>
<span>  <span class="va">PopParamReplicates</span> <span class="op">=</span> <span class="va">ExamplePopParamData</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span><span class="op">)</span>,<span class="op">]</span></span>
<span>  <span class="va">PopParamReplicates</span><span class="op">$</span><span class="va">ka_pop</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span>,mean <span class="op">=</span> <span class="fl">0.8</span>, sd <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span>  <span class="co"># write the table to an external file (required because it has several lines):</span></span>
<span>  <span class="va">file_name</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"PopParamReplicates.csv"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">PopParamReplicates</span>, <span class="va">file_name</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="co"># define the new element and use it in simulation:</span></span>
<span>  <span class="fu">definePopulationElement</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"PopParamReplicates"</span>, element <span class="op">=</span> <span class="va">file_name</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="setGroupElement.html">setGroupElement</a></span><span class="op">(</span>group <span class="op">=</span> <span class="st">"simulationGroup1"</span>, elements <span class="op">=</span> <span class="st">"PopParamReplicates"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="setNbReplicates.html">setNbReplicates</a></span><span class="op">(</span>nb <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="co"># to simulate the project 10x, each time with a different population parameter element</span></span>
<span>  <span class="fu"><a href="runSimulation.html">runSimulation</a></span><span class="op">(</span><span class="op">)</span></span>
<span> <span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="fu"><a href="getSimulationResults.html">getSimulationResults</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by LIXOFT.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

